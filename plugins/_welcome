// creado y editado por BrayanOFC
let handler = async (m, { conn }) => {}

handler.participantsUpdate = async function ({ id, participants, action }) {
   try {
      for (let user of participants) {
         let name = await this.getName(user)
         let groupMetadata = await this.groupMetadata(id)
         let desc = groupMetadata.desc || "⚠️ Este grupo no tiene reglas en la descripción."

         // ─── BIENVENIDA ───
         if (action == 'add') {
            let text = `👊🏻🔥 ¡Escucha insecto @${user.split('@')[0]}!

Has entrado al campo de batalla del grupo. Aquí no hay lugar para los débiles.  

📜 **Reglas del Grupo**:
${desc}

⚠️ El que rompa las reglas… conocerá mi furia Saiyajin. ⚠️`
            await this.sendMessage(id, { text, mentions: [user] })
         }

         // ─── DESPEDIDA ───
         if (action == 'remove') {
            let text = `💨 El guerrero @${user.split('@')[0]} ha abandonado el campo de batalla.  

No todos soportan el poder de este grupo… ¡patético! 👊🏻🔥`
            await this.sendMessage(id, { text, mentions: [user] })
         }
      }
   } catch (e) {
      console.error(e)
   }
}

export default handler