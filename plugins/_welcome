// creado y editado por BrayanOFC
let handler = async (m, { conn }) => {}

handler.participantsUpdate = async function ({ id, participants, action }) {
   try {
      for (let user of participants) {
         let name = await this.getName(user)
         let groupMetadata = await this.groupMetadata(id)
         let desc = groupMetadata.desc || "âš ï¸ Este grupo no tiene reglas en la descripciÃ³n."

         // â”€â”€â”€ BIENVENIDA â”€â”€â”€
         if (action == 'add') {
            let text = `ğŸ‘ŠğŸ»ğŸ”¥ Â¡Escucha insecto @${user.split('@')[0]}!

Has entrado al campo de batalla del grupo. AquÃ­ no hay lugar para los dÃ©biles.  

ğŸ“œ **Reglas del Grupo**:
${desc}

âš ï¸ El que rompa las reglasâ€¦ conocerÃ¡ mi furia Saiyajin. âš ï¸`
            await this.sendMessage(id, { text, mentions: [user] })
         }

         // â”€â”€â”€ DESPEDIDA â”€â”€â”€
         if (action == 'remove') {
            let text = `ğŸ’¨ El guerrero @${user.split('@')[0]} ha abandonado el campo de batalla.  

No todos soportan el poder de este grupoâ€¦ Â¡patÃ©tico! ğŸ‘ŠğŸ»ğŸ”¥`
            await this.sendMessage(id, { text, mentions: [user] })
         }
      }
   } catch (e) {
      console.error(e)
   }
}

export default handler